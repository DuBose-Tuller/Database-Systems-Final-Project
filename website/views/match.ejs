<!DOCTYPE html>
<html>
<head>
    <title>Match Page</title>
    <!-- Your HTML head content goes here -->
</head>
<body>
    <h1>Match Details</h1>

    <p>Match ID:</p><p id="matchID"><%= match_id %></p>
    <!-- Other HTML content based on matchID -->
    <p>Home Team <%= winner_id %></p> 
    <p>Away Team <%= loser_id %></p>

    <input type="submit" onclick="getTossup()">Generate Tossup</input>

</body>
</html>

<script>
    // Get all of the info
    function getMatchInfo() {
        let matchID = document.getElementById("matchID").innerHTML;
        console.log("Fetching info for match " + matchID);
		const responsePromise = fetch("/get-match?matchID=" + matchID, {
			method: "GET",
			headers: {
				"Content-type": "application/json; charset=UTF-8"
			}
		});

		responsePromise.then(
			// Fulfilled
			async (response) => {
				populateMatchData(await response.json())
			},
			// Error
			(error) => {
				alert("Cannot obtain players")
			})
    }

    function populateMatchData(results) {
        console.log("Populating info for")
        console.log(results)
    }


    

    function getTossup() {
        const responsePromise = fetch("https://www.qbreader.org/api/random-tossup", {
			method: "GET",
			headers: {
				"Content-type": "application/json; charset=UTF-8"
			}
		});

		responsePromise.then(
			// Fulfilled
			async (response) => {
                console.log("Tossup:")
				console.log(response)
			},
			// Error
			(error) => {
				alert("Failed to get a tossup")
				console.log(error)
			})
    }

</script>